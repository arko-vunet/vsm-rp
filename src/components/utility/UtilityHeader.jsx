import { useTheme2 } from '@grafana/ui'
import { VuButton } from '../button/VuButton'
import { VuIconButton } from '../button/VuIconButton'
import logo from '../../assets/logo.svg'

function UtilityHeader({ onToggleTheme }) {
  const theme = useTheme2()
  const isDark = theme.colors.mode === 'dark'
  const themeIcon = isDark ? (
    <svg
      width="16"
      height="16"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
      fill="currentColor"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M12 2C12.5523 2 13 2.44772 13 3V4C13 4.55228 12.5523 5 12 5C11.4477 5 11 4.55228 11 4V3C11 2.44772 11.4477 2 12 2ZM4.89289 4.89289C5.28342 4.50237 5.91658 4.50237 6.30711 4.89289L7.00711 5.59289C7.39763 5.98342 7.39763 6.61658 7.00711 7.00711C6.61658 7.39763 5.98342 7.39763 5.59289 7.00711L4.89289 6.30711C4.50237 5.91658 4.50237 5.28342 4.89289 4.89289ZM19.1071 4.89289C19.4976 5.28342 19.4976 5.91658 19.1071 6.30711L18.4071 7.00711C18.0166 7.39763 17.3834 7.39763 16.9929 7.00711C16.6024 6.61658 16.6024 5.98342 16.9929 5.59289L17.6929 4.89289C18.0834 4.50237 18.7166 4.50237 19.1071 4.89289ZM8.46447 8.46447C9.40215 7.52678 10.6739 7 12 7C13.3261 7 14.5979 7.52678 15.5355 8.46447C16.4732 9.40215 17 10.6739 17 12C17 13.3261 16.4732 14.5979 15.5355 15.5355C14.5979 16.4732 13.3261 17 12 17C10.6739 17 9.40215 16.4732 8.46447 15.5355C7.52678 14.5979 7 13.3261 7 12C7 10.6739 7.52678 9.40215 8.46447 8.46447ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9ZM2 12C2 11.4477 2.44772 11 3 11H4C4.55228 11 5 11.4477 5 12C5 12.5523 4.55228 13 4 13H3C2.44772 13 2 12.5523 2 12ZM19 12C19 11.4477 19.4477 11 20 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H20C19.4477 13 19 12.5523 19 12ZM7.00711 16.9929C7.39763 17.3834 7.39763 18.0166 7.00711 18.4071L6.30711 19.1071C5.91658 19.4976 5.28342 19.4976 4.89289 19.1071C4.50237 18.7166 4.50237 18.0834 4.89289 17.6929L5.59289 16.9929C5.98342 16.6024 6.61658 16.6024 7.00711 16.9929ZM16.9929 16.9929C17.3834 16.6024 18.0166 16.6024 18.4071 16.9929L19.1071 17.6929C19.4976 18.0834 19.4976 18.7166 19.1071 19.1071C18.7166 19.4976 18.0834 19.4976 17.6929 19.1071L16.9929 18.4071C16.6024 18.0166 16.6024 17.3834 16.9929 16.9929ZM12 19C12.5523 19 13 19.4477 13 20V21C13 21.5523 12.5523 22 12 22C11.4477 22 11 21.5523 11 21V20C11 19.4477 11.4477 19 12 19Z"
      />
    </svg>
  ) : (
    <svg
      width="16"
      height="16"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
      fill="currentColor"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M10.1585 4.20755C9.36258 4.39605 8.59673 4.70633 7.88895 5.13062C6.64681 5.87523 5.6301 6.94306 4.94726 8.2202C4.26443 9.49734 3.94108 10.9359 4.01172 12.3824C4.08236 13.8289 4.54432 15.2291 5.34835 16.4336C6.15237 17.6381 7.26828 18.6018 8.57706 19.2219C9.88583 19.8419 11.3384 20.0951 12.7797 19.9543C14.2211 19.8136 15.5972 19.2842 16.7613 18.4226C17.3303 18.0016 17.8382 17.5089 18.2736 16.959C17.1466 17.0622 16.0018 16.9401 14.9079 16.5901C13.0149 15.9844 11.3941 14.7345 10.3271 13.0578C9.26009 11.381 8.81438 9.38337 9.06746 7.41207C9.21367 6.27315 9.58779 5.18464 10.1585 4.20755ZM12.1266 2.00019H12.393C12.8042 2.00019 13.1734 2.25184 13.3238 2.63451C13.4741 3.01719 13.3749 3.45288 13.0737 3.73275C11.9604 4.7673 11.2447 6.15928 11.0512 7.66674C10.8576 9.1742 11.1985 10.7018 12.0144 11.9841C12.8304 13.2663 14.0698 14.2221 15.5174 14.6852C16.9649 15.1484 18.529 15.0897 19.9377 14.5193C20.3115 14.368 20.7396 14.4559 21.0234 14.7423C21.3072 15.0288 21.3912 15.4576 21.2365 15.83C20.5417 17.5016 19.4062 18.9533 17.9511 20.0303C16.496 21.1072 14.7758 21.7689 12.9741 21.9448C11.1724 22.1208 9.35674 21.8044 7.72077 21.0293C6.0848 20.2542 4.68991 19.0496 3.68488 17.544C2.67986 16.0383 2.1024 14.2881 2.0141 12.4799C1.92581 10.6718 2.32999 8.87363 3.18353 7.2772C4.03707 5.68078 5.30796 4.34599 6.86063 3.41522C8.4133 2.48446 10.1895 1.99262 11.9998 1.99219C12.0423 1.99218 12.0848 1.99488 12.1266 2.00019Z"
      />
    </svg>
  )

  return (
    <header className="fixed inset-x-0 top-4 z-10 w-full">
      <div
        className="mx-auto flex w-full max-w-[640px] items-center justify-between gap-3 border rounded-sm p-3"
        style={{
          borderColor: theme.colors.border.weak,
          backgroundColor: theme.colors.background.primary,
        }}
      >
        <a href="/" aria-label="Go to home" className="cursor-pointer">
          <img src={logo} alt="vunet" className="h-6" />
        </a>
        <div className="flex items-center gap-3">
          <VuButton
            variant="secondary"
            fill='outline'
            size="md"
            className="cursor-pointer"
            onClick={() => {
              window.location.assign('/changelog')
            }}
          >
            Changelog
          </VuButton>
          <VuIconButton
            icon={themeIcon}
            variant="secondary"
            onClick={onToggleTheme}
            toolTip={isDark ? 'Switch to light theme' : 'Switch to dark theme'}
            ariaLabel={isDark ? 'Switch to light theme' : 'Switch to dark theme'}
            className="cursor-pointer"
          />
        </div>
      </div>
    </header>
  )
}

export default UtilityHeader
